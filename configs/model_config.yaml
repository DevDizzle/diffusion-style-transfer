# ============================================================
# Model & Pipeline Configuration
# ============================================================

model:
  model_id: "stabilityai/stable-diffusion-xl-base-1.0"
  refiner_id: "stabilityai/stable-diffusion-xl-refiner-1.0"
  torch_dtype: "float16"
  variant: "fp16"
  use_safetensors: true

scheduler:
  # Options: DPMSolverMultistep, EulerDiscrete, EulerAncestralDiscrete, DDIM
  name: "DPMSolverMultistepScheduler"
  solver_order: 2
  use_karras_sigmas: true

generation:
  guidance_scale: 7.5
  num_inference_steps: 40
  height: 1024
  width: 1024
  high_noise_frac: 0.8  # for SDXL base+refiner ensemble

style_transfer:
  ip_adapter_model: "h94/IP-Adapter"
  ip_adapter_weight_name: "ip-adapter-plus_sdxl_vit-h.safetensors"
  ip_adapter_scale: 0.6
  img2img_strength: 0.65

safety:
  nsfw_threshold: 0.85
  clip_similarity_threshold: 0.25
  brand_consistency_threshold: 0.30
  blocked_concepts:
    - "violence"
    - "gore"
    - "explicit"
    - "drugs"
    - "weapons"
  content_rating_levels:
    G: 0.95      # Must score above this to be rated G
    PG: 0.80
    PG13: 0.60

negative_prompts:
  default: >-
    ugly, blurry, low quality, deformed, disfigured, mutation,
    extra limbs, bad anatomy, watermark, text, signature,
    nsfw, violence, gore, disturbing
  family_friendly: >-
    ugly, blurry, low quality, deformed, disfigured, mutation,
    extra limbs, bad anatomy, watermark, text, signature,
    nsfw, violence, gore, disturbing, scary, dark, horror,
    blood, weapons, drugs, alcohol, suggestive
